/**
* Bloggy Javascript
*/function api(e,t,n,r){$.ajax({url:e,method:t,data:n,dataType:"json",success:function(e){r(e)},error:function(t){console.log("Bloggy: API Error for action: "+e);console.log(t)}})}$(function(){$("[contenteditable]").each(function(){var e=$(this),t="0px 0px 10px rgba(0,0,0,.1)",n="1px dashed #e74c3c",r="1px dotted #2ecc71",i=function(){var t=e.html();t===undefined||t.length===0?e.css({border:n}):e.css({border:r})};e.css({padding:"3px",border:n,"box-shadow":t,"-webkit-box-shadow":t,"-moz-box-shadow":t,"-o-box-shadow":t,"-ms-box-shadow":t});e.keypress(function(){i()});e.blur(function(){i()})});$("[data-click=publish]").click(function(){var e=$("#title").html(),t=$("#content").html();api("/api/create","post",{title:e,content:t},function(e){e.response?window.location="/blog/"+e.id:console.log(e.message)})});$("[data-click=save]").click(function(){var e=$("#title").html(),t=$("#content").html(),n=$("#id").val();api("/api/edit/"+n,"post",{title:e,content:t},function(e){e.response?window.location="/blog/"+e.id:console.log(e.message)})})});